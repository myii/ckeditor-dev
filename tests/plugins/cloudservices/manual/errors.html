<button id="url"> Test undefinded URL </button>
<button id="token"> Test undefinded TOKEN </button>
<div id="classic">
	Sample text
</div>

<script>
	if ( isUnsupportedEnvironment() ) {
		bender.ignore();
	}
	var mockBase64 = 'data:image/gif;base64,R0lGODlhDgAOAIAAAAAAAP///yH5BAAAAAAALAAAAAAOAA4AAAIMhI+py+0Po5y02qsKADs=';
	CKEDITOR.replace( 'classic', {
		cloudServices_url: 'cs_url',
		cloudServices_token: 'cs_token',
		height: 500
	} );
	document.getElementById( 'url' ).addEventListener( 'click', function( event ) {
		var instance = new CKEDITOR.plugins.cloudservices.cloudServicesLoader( CKEDITOR.instances.classic, mockBase64 );
		CKEDITOR.instances.classic.config.cloudServices_url = undefined;
		CKEDITOR.instances.classic.config.cloudServices_token = 'cs_token';
		instance.upload();
	} );
	document.getElementById( 'token' ).addEventListener( 'click', function( event ) {
		var instance = new CKEDITOR.plugins.cloudservices.cloudServicesLoader( CKEDITOR.instances.classic, mockBase64 );
		CKEDITOR.instances.classic.config.cloudServices_url = 'cs_url';
		CKEDITOR.instances.classic.config.cloudServices_token = undefined;
		instance.upload();
	} );
</script>
